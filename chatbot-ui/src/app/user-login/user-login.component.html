<div class="container">
    <mat-card class="login-signup-card">
        <mat-tab-group class="tabs" mat-stretch-tabs="false" mat-align-tabs="start">
            <mat-tab label="Login">
                <form [formGroup]="loginFormGroup">
                    <mat-grid-list class="logintab" cols="1" rowHeight="90px">
                        <mat-grid-tile>
                            <mat-form-field class="loginitems" appearance="outline">
                                <mat-label>Email</mat-label>
                                <input formControlName="loginemail" type="email" matInput placeholder="Email">
                                <mat-icon matSuffix>mail</mat-icon>
                                <mat-error *ngIf="loginFormGroup.get('loginemail')?.hasError('required')">
                                    Email address is required to login
                                </mat-error>
                                <mat-error *ngIf="loginFormGroup.get('loginemail')?.hasError('email')">
                                    Invalid Email address
                                </mat-error>
                                <mat-hint>Email</mat-hint>
                            </mat-form-field>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <mat-form-field class="loginitems" appearance="outline">
                                <mat-label>Password</mat-label>
                                <input formControlName="loginpassword" type="password" matInput placeholder="Password">
                                <mat-icon matSuffix>password</mat-icon>
                                <mat-hint>Password</mat-hint>
                                <mat-error *ngIf="loginFormGroup.get('loginpassword')?.hasError('required')">
                                    Password is required
                                </mat-error>
                                <mat-error *ngIf="loginFormGroup.get('loginpassword')?.hasError('minlength')">
                                    Password too short
                                </mat-error>
                            </mat-form-field>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <button [disabled]="loginFormGroup.invalid" (click)="userLogin()" mat-flat-button
                                color="primary" class="loginitems">Login</button>
                        </mat-grid-tile>
                    </mat-grid-list>
                </form>
            </mat-tab>
            <mat-tab label="Sign-up">
                <form [formGroup]="signupFormGroup">
                    <mat-grid-list cols="1" rowHeight="90px">
                        <mat-grid-tile>
                            <mat-form-field class="signupitemssmall" appearance="outline">
                                <mat-label>First Name</mat-label>
                                <input formControlName="fname" matInput placeholder="First Name">
                                <mat-icon matSuffix>person</mat-icon>
                                <mat-hint>First Name</mat-hint>
                                <mat-error *ngIf="signupFormGroup.get('fname')?.hasError('required')">
                                    First name is required
                                </mat-error>
                            </mat-form-field>
                            <mat-form-field class="signupitemssmall" appearance="outline">
                                <mat-label>Last Name</mat-label>
                                <input formControlName="lname" matInput placeholder="Last Name">
                                <mat-icon matSuffix>person</mat-icon>
                                <mat-hint>Last Name</mat-hint>
                                <mat-error *ngIf="signupFormGroup.get('lname')?.hasError('required')">
                                    Last name is required
                                </mat-error>
                            </mat-form-field>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <mat-form-field class="signupitems" appearance="outline">
                                <mat-label>Email</mat-label>
                                <input type="email" matInput placeholder="Email" formControlName="email" required>
                                <mat-icon matSuffix>mail</mat-icon>
                                <mat-hint>Email</mat-hint>
                                <mat-error *ngIf="signupFormGroup.get('email')?.hasError('required')">
                                    You must enter a email address
                                </mat-error>
                                <mat-error *ngIf="signupFormGroup.get('email')?.hasError('email')">
                                    You must enter a valid email address
                                </mat-error>
                            </mat-form-field>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <mat-form-field class="signupitems" appearance="outline">
                                <mat-label>Password</mat-label>
                                <input formControlName="password1" type="password" matInput placeholder="Password">
                                <mat-icon matSuffix>password</mat-icon>
                                <mat-hint>Password</mat-hint>
                                <mat-error *ngIf="signupFormGroup.get('password1')?.hasError('required')">
                                    Password is required
                                </mat-error>
                                <mat-error *ngIf="signupFormGroup.get('password1')?.hasError('minlength')">
                                    Password is too short
                                </mat-error>
                            </mat-form-field>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <mat-form-field class="signupitems" appearance="outline">
                                <mat-label>Confirm Password</mat-label>
                                <input required formControlName="password2" type="password" matInput
                                    placeholder="Password">
                                <mat-icon matSuffix>password</mat-icon>
                                <mat-error *ngIf="signupFormGroup.get('password2')?.hasError('passwordMismatch')">
                                    Passwords do not match
                                </mat-error>
                                <mat-hint>Confirm Password</mat-hint>
                            </mat-form-field>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <button [disabled]="signupFormGroup.invalid" (click)="userSignup()" class="loginitems"
                                mat-flat-button color="primary">Signup</button>
                        </mat-grid-tile>
                    </mat-grid-list>
                </form>
            </mat-tab>
        </mat-tab-group>
    </mat-card>

    <div class="login-progress-card" *ngIf="inprogress">
        <div class="spinner-card">
            <mat-card-content>
                <h2>In progress...</h2>
                <mat-progress-spinner class="progress-spinner" [color]='"accent"' [mode]='"indeterminate"'>
                </mat-progress-spinner>
            </mat-card-content>
        </div>
    </div>
</div>